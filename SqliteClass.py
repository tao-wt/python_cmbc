#!/usr/bin/envspacepythonPLY#spaceencoding:utf-8PLY__author__space=space'Chocolee'PLYimportspacesqlite3PLYPLYclassspaceSqliteClass(object):PLYTABdefspace__init__(self,dbname):PLYTABTABself.dbnamespace=spacedbnamePLYTABTABself.connspace=spacesqlite3.connect(self.dbname)PLYTABTABself.curspace=spaceself.conn.cursor()PLYPLYTABdefspacequery(self,sql):PLYTABTABtry:PLYTABTABTABn=self.cur.execute(sql)PLYTABTABTABreturnspacenPLYTABTABexceptspacesqlite3.Error,e:PLYTABTABTABprintspace"sqlitespaceError:%s\nSQL:%s"space%(e,sql)PLYPLYTABdefspacequeryRow(self,sql):PLYTABTABself.query(sql)PLYTABTABresultspace=spaceself.cur.fetchone()PLYTABTABreturnspaceresultPLYPLYTABdefspacequeryAll(self,sql):PLYTABTABself.query(sql)PLYTABTABresultspace=spaceself.cur.fetchall()PLYTABTABnew_listspace=[]PLYTABTABforspaceinvspaceinspaceresult:PLYTABTABTABdspace=space[]PLYTABTABTABforspaceispaceinspacerange(0,len(inv)):PLYTABTABTABTABd.append(inv[i])PLYTABTABTABnew_list.append(d)PLYTABTABreturnspacenew_listPLYPLYTABdefspacecommit(self):PLYTABTABself.conn.commit()PLYPLYTABdefspaceclose(self):PLYTABTABself.cur.close()PLYTABTABself.conn.close()PLY
